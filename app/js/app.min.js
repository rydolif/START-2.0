"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("form");e.addEventListener("submit",(async function(n){n.preventDefault();let o=function(e){let t=0,n=document.querySelectorAll("._req");console.log(n);for(let e=0;e<n.length;e++){const o=n[e];return a(o),o.classList.contains("_email")?i(o)&&(r(o),t++):("checkbox"===o.getAttribute("type")&&!1===o.checked||""===o.value)&&(r(o),t++),t}}();new FormData(e).append("image",t.files[0]),0===o?e.classList.add("_sending"):alert("Заполниет поле")}));const t=document.getElementById("formImage"),n=document.getElementById("formPreview");function r(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function a(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function i(e){return!/^([a-z0-9_-]+\.)*[a-z0-9_-]+@[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,6}$/.test(e.value)}t.addEventListener("change",()=>{!function(e){if(!["image/jpeg","image/png","image/gif","image/ico"].includes(e.type))return alert("Только изображения"),void(t.value="");if(e.size>2097152)return void alert("Размер менее 2 мб.");var r=new FileReader;r.onload=function(e){n.innerHTML=`<img src="${e.target.result}" alt="Фото">`},r.onerror=function(e){alert("Ошибка")},r.readAsDataURL(files)}(t.files[0])})}));